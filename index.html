<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script>
      AFRAME.registerComponent('rotate-colour', {
        multiple: true,
        init: function () {
          var lastIndex = -1;
          var COLORS = ['#CAB08B', '#E0B394', '#E9BDBE'];
          this.el.addEventListener('click', function (evt) {
            lastIndex = (lastIndex + 1) % COLORS.length;
            this.setAttribute('material', 'color', COLORS[lastIndex]);
            console.log('I was clicked at: ', evt.detail.intersection.point);
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id="bird" src="./images/bird.png">
        <img id="leaf" src="./images/leaf.png" />
        <img id="squirrel" src="./images/squirrel.png" />
        <img id="groundTexture" src="https://cdna.artstation.com/p/assets/images/images/016/042/456/large/cgshare-book-grass-003.jpg">

        <!-- COLOUR PALETTE

          Green   : #B2AC88 
          L. Blue : #A4C8D5
          D. Blue : #80ADBC
          Brown   : #CAB08B
          Orange  : #E0B394
          Pink    : #E9BDBE

        -->
      </a-assets>
      <a-camera>
        <a-cursor  
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
          animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1; repeat: indefinite"
          animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
          >
        </a-cursor>
      </a-camera>
      <a-image
        color="#E9BDBE" src="#bird" position="-5 2 -5" rotation="0 0 0" scale="2 2 2" id="bird-1" 
        rotate-colour
        animation__position="property: object3D.position.y; to: 2.2; dir: alternate; dur: 2000; loop: true"
        animation__mouseenter="property: scale; to: 2.3 2.3 2.3; dur: 300; startEvents: mouseenter"
        animation__mouseleave="property: scale; to: 2 2 2; dur: 300; startEvents: mouseleave">
      </a-image> 

      <a-image
        color="#E0B394" src="#leaf" position="0 2 -5" rotation="0 0 0" scale="2 2 2" id="leaf-1"
        rotate-colour
        animation__position="property: object3D.position.y; to: 2.2; dir: alternate; dur: 2000; loop: true"
        animation__mouseenter="property: scale; to: 2.3 2.3 2.3; dur: 300; startEvents: mouseenter"
        animation__mouseleave="property: scale; to: 2 2 2; dur: 300; startEvents: mouseleave">
      </a-image>

      <a-image
        color="#CAB08B" src="#squirrel" position="5 2 -5" rotation="0 0 0" scale="2 2 2" id="squirrel-1" 
        rotate-colour
        animation__position="property: object3D.position.y; to: 2.2; dir: alternate; dur: 2000; loop: true"
        animation__mouseenter="property: scale; to: 2.3 2.3 2.3; dur: 300; startEvents: mouseenter"
        animation__mouseleave="property: scale; to: 2 2 2; dur: 300; startEvents: mouseleave">
      </a-image>

      <a-sky color="#A4C8D5" background-image="linear-gradient(to bottom right, #80ADBC, #A4C8D5)"></a-sky>

      <a-plane src="#groundTexture" rotation="-90 0 0" width="30" height="30" repeat="10 10"></a-plane>

      <!-- <a-light type="ambient" color="#445451"></a-light>
      <a-light type="point" intensity="2" position="2 4 4"></a-light> 
      <a-sound src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav" autoplay="true"
        position="-3 1 -4">
      </a-sound> -->
    </a-scene>
  </body>
</html>
